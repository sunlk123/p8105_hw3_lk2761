p8105\_hw3\_lk2761
================
Lorraine Kwok
October 8, 2019

## Problem 1

We are using Instacart data.

``` r
library(p8105.datasets) 
data("instacart")
```

``` r
# This code produces a new dataframe that shows the number of distinct aisles and the number of items ordered from each. 

num_aisles_df = 
  instacart %>%
  count(aisle) %>%
  rename(.data = ., num_items_ordered = n) %>%
  arrange(desc(num_items_ordered))
```

``` r
num_aisles_df %>%
  filter(.data = ., num_items_ordered > 10000)
```

    ## # A tibble: 39 x 2
    ##    aisle                         num_items_ordered
    ##    <chr>                                     <int>
    ##  1 fresh vegetables                         150609
    ##  2 fresh fruits                             150473
    ##  3 packaged vegetables fruits                78493
    ##  4 yogurt                                    55240
    ##  5 packaged cheese                           41699
    ##  6 water seltzer sparkling water             36617
    ##  7 milk                                      32644
    ##  8 chips pretzels                            31269
    ##  9 soy lactosefree                           26240
    ## 10 bread                                     23635
    ## # â€¦ with 29 more rows

``` r
# Create a table that shows the three most popular items in each of the aisles: baking ingredients, dog food care and packaged vegetables fruits.

num_pop_items_df =
  instacart %>%
  group_by(aisle) %>%
  select(.data = ., aisle, product_name) %>%
  filter(.data = ., aisle == "baking ingredients" | aisle == "dog food care" | aisle == "packaged vegetables fruits") %>%
  count(product_name) %>%
  rename(.data = ., num_products = n) %>%
  arrange(desc(num_products)) %>%
  pivot_wider(
    names_from = "aisle",
    values_from = "num_products"
  ) %>%
  knitr::kable()
```
